<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<link rel="Stylesheet" type="text/css" href="../../static/css/style.css">
<link rel="Stylesheet" type="text/css" href="../../static/bootstrap-3.1.1/css/bootstrap.min.css">
<link rel="Stylesheet" type="text/css" href="../../static/css/wiki.css">

<script type="text/javascript" src="../../static/js/jquery-1.11.0.js"></script>
<script type="text/javascript" src="../../static/bootstrap-3.1.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../../static/js/wiki.js"></script>

<script type="text/javascript" src="../../static/js/xregexp-all.js"></script> <!-- XRegExp is bundled with the final shCore.js during build -->
<script type="text/javascript" src="../../static/js/scrollfix.js"></script> <!-- XRegExp is bundled with the final shCore.js during build -->

<script type="text/javascript" src="../../static/js/syntaxhighlighter/shCore.js"></script>
<script type="text/javascript" src="../../static/js/syntaxhighlighter/shLegacy.js"></script>
<script type="text/javascript" src="../../static/js/syntaxhighlighter/shBrushAppleScript.js"></script>
<script type="text/javascript" src="../../static/js/syntaxhighlighter/shBrushAS3.js"></script>
<script type="text/javascript" src="../../static/js/syntaxhighlighter/shBrushBash.js"></script>
<script type="text/javascript" src="../../static/js/syntaxhighlighter/shBrushColdFusion.js"></script>
<script type="text/javascript" src="../../static/js/syntaxhighlighter/shBrushCpp.js"></script>
<script type="text/javascript" src="../../static/js/syntaxhighlighter/shBrushCSharp.js"></script>
<script type="text/javascript" src="../../static/js/syntaxhighlighter/shBrushCss.js"></script>
<script type="text/javascript" src="../../static/js/syntaxhighlighter/shBrushDelphi.js"></script>
<script type="text/javascript" src="../../static/js/syntaxhighlighter/shBrushDiff.js"></script>
<script type="text/javascript" src="../../static/js/syntaxhighlighter/shBrushErlang.js"></script>
<script type="text/javascript" src="../../static/js/syntaxhighlighter/shBrushGroovy.js"></script>
<script type="text/javascript" src="../../static/js/syntaxhighlighter/shBrushJava.js"></script>
<script type="text/javascript" src="../../static/js/syntaxhighlighter/shBrushJavaFx.js"></script>
<script type="text/javascript" src="../../static/js/syntaxhighlighter/shBrushJScript.js"></script>
<script type="text/javascript" src="../../static/js/syntaxhighlighter/shBrushPerl.js"></script>
<script type="text/javascript" src="../../static/js/syntaxhighlighter/shBrushPhp.js"></script>
<script type="text/javascript" src="../../static/js/syntaxhighlighter/shBrushPlain.js"></script>
<script type="text/javascript" src="../../static/js/syntaxhighlighter/shBrushPowerShell.js"></script>
<script type="text/javascript" src="../../static/js/syntaxhighlighter/shBrushPython.js"></script>
<script type="text/javascript" src="../../static/js/syntaxhighlighter/shBrushRuby.js"></script>
<script type="text/javascript" src="../../static/js/syntaxhighlighter/shBrushSass.js"></script>
<script type="text/javascript" src="../../static/js/syntaxhighlighter/shBrushScala.js"></script>
<script type="text/javascript" src="../../static/js/syntaxhighlighter/shBrushSql.js"></script>
<script type="text/javascript" src="../../static/js/syntaxhighlighter/shBrushVb.js"></script>
<script type="text/javascript" src="../../static/js/syntaxhighlighter/shBrushXml.js"></script>
<!-- 加入数学公式的支持 -->
<script type="text/javascript" src="../../static/js/mathJax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

<link type="text/css" rel="stylesheet" href="../../static/css/syntaxhighlighter/shCoreDefault.css"/>
<link type="text/css" rel="stylesheet" href="../../static/css/font-awesome.css"/>

<title>latexsuite</title>
<!-- <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> -->
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<nav class="navbar navbar-inverse" role="navigation">
<div class="container">
<div class="navbar-header">
<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
<span class="sr-only">Toggle navigation</span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
</button>
<a class="navbar-brand">Ollie's Wiki</a>
</div>
<div class="collapse navbar-collapse">
<ul class="nav navbar-nav">
<li><a href="../../index.html"><i class="icon-home"></i> Home</a></li>
<li><a href="../../NoteBook/index.html"><i class="icon-pencil"></i> NoteBook</a></li>
<li><a href="../../TodoList/index.html"><i class="icon-ok"></i> TodoList</a></li>
<li><a href="../../BookList/index.html"><i class="icon-book"></i> BookList</a></li>
<li><a href="../../diary/diary.html"><i class="icon-coffee"></i> Diary</a></li>
</ul>
</div>
</div>
</nav>
<div class="container content-body">
<div class="content">

<h1 id="toc_1">Latex-Suite</h1>
<p>
决定用VIM加LatexSuite写论文……
安装配置什么的，以后再写吧！网上教程一堆……
</p>

<p>
先写一个我今天解决的问题
</p>

<p>
安装完LatexSuite就可以使用如下快捷键
</p>


<table>
<tr>
<th>
按键
</th>
<th>
功能
</th>
<th>
配置
</th>
</tr>
<tr>
<td>
<code>\ll</code>
</td>
<td>
编译
</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>
<code>\lv</code>
</td>
<td>
预览
</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>
<code>\ls</code>
</td>
<td>
反向查找?
</td>
<td>
&nbsp;
</td>
</tr>
</table>

<h3 id="toc_1.0.1">一键编译设置<code>\ll</code></h3>
<h4 id="toc_1.0.1.1">编译逻辑</h4>
<p>
设置了Tex_MultipleCompile之后，应该<code>\ll</code>之后就可以连带参考文献一起生成，文档如是说：
</p>

<ol>
<li>
If there was a .idx file, then remember its contents.

<li>
Run latex.

<li>
If the .idx file changed due to the latex compiler, then run makeindex to redo the .ind file and then remember to rerun latex.

<li>
If the .aux file generated by the latex compiler contains a \bibdata line, then it means that we are using a .bib file. Therefore, run bibtex.

<ul>
<li>
NOTE: This means that we will always run bibtex whenever we use the \bibliography command whether or not we actually need to. At this time, Latex-Suite does not parse the .aux file before and after the latex compiler to see if we are required to rerun bibtex.

</ul>
<li>
If the .bbl file changes because of this, then remember to rerun latex again.

<li>
Also, we check to see if the LaTeX compiler gives certain standard warnings which notify that we need to compile once again. In this case also, remember to rerun LaTeX.

<li>
If we found we had to rerun latex, then we repeat the steps above but not running makeindex or bibtex again.`

</ol>
	   
<p>
*其中表示，如果第一次Latex编译之后生成的<code>.aux</code>文件中，包含<code>\bibdata</code>这样的行，就会调用bibtex重新编译，生成<code>.bbl</code>文件，然后再Latex编译，最终生成完整的文档*
</p>

<h4 id="toc_1.0.1.2">问题描述</h4>
<p>
但是实际操作中，发现，代码执行逻辑是先创建临时文件，并将<code>.aux</code>文件载入到临时文件中，然后搜索\bibdata字符，如果有，则进入Bibtex编译阶段。
</p>

<p>
然而产生临时文件的地方就是 <code>$TEMP</code> 变量所定义的地方； 利用<code>tempname()</code>函数获得,
而它要调用的<code>.aux</code>文件并不在<code>$TEMP</code>所定义的目录中，从而无法获得该文件的内容，最终导致无法执行bibtex编译过程。 
</p>

<h4 id="toc_1.0.1.3">解决方法：</h4>
<ul>
<li>
文件：<code>\Vim\vimfiles\ftplugin\latex-suite\multicompile.vim</code>

<li>
函数：<code>Tex_GotoTempFile()</code>

<li>
将利用<code>tempname()</code>函数获得临时文件路径的一句改掉，直接命名为<code>bib.tmp</code>，这样省略路径的话，临时文件就会创建在当前工作目录，而且这个临时文件在使用完之后也会删除！

</ul>

<h3 id="toc_1.0.2">查看编译结果<code>\lv</code></h3>
<p>
调用第三方放软件查看编译结果
</p>

<p>
将要用来查看pdf文档的软件的执行文件设入环境变量，使其可在cmd命令行中开启
</p>

</div>
</div>
</body>
</html>
